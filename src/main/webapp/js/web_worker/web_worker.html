<!DOCTYPE html>
<html>
<body>
	<h1>Web worker example</h1>
	<ul>
		<li>workers run in another global context that is different from the current</li>
		<li>Workers can spawn another worker</li>
		<li>Workers can NOT access DOM</li>
		<li>workers code must be hosted within the same origin of the parent page</li>		
		<li>workers can use importScripts() to share functions with others, but remember rule 1, it is in another context</li>
		<li>workers can only use message to talk with main thread</li>
		<li>importScripts() can add multiple files, they may be downloaded in any order, but will be executed in the order in which you pass the filenames into importScripts() . This is done synchronously;</li> 
		<li>importScripts() does not return until all the scripts have been loaded and executed.</li>
	</ul>
	
	<p>
		Count numbers:
		<output id="result"></output>
	</p>
	<button onclick="startWorker()">Start Worker</button>
	<button onclick="stopWorker()">Stop Worker</button>
	<br>
	<br>

	<script>
		var w;

		function startWorker() {
			if (typeof (Worker) !== "undefined") {
				if (typeof (w) == "undefined") {
					w = new Worker("js/demo_workers.js");
				}
				w.onmessage = function(event) {
					document.getElementById("result").innerHTML = event.data;
				};
			} else {
				document.getElementById("result").innerHTML = "Sorry! No Web Worker support.";
			}
		}

		function stopWorker() {
			w.terminate();
			w = undefined;
		}
	</script>
	
	
	<br/>
	<br /> it comes from
	<a
		href="http://www.w3schools.com/html/html5_webworkers.asp"
		target=_blank>here</a>
	<br />
	

</body>
</html>